<?xml version="1.0" encoding="UTF-8" ?>
<fei4 flavor="fei4a">
    <commands>
        <fast>
            <command name="LV1" bitstream="11101" bitlength="5" description="Level 1 Trigger: a single bit flip in the LV1 command will still result in a LV1 being decoded." />
            <command name="BCR" bitstream="101100001" bitlength="9" description="Bunch Counter Reset: the bunch crossing counter is set to zero." />
            <command name="ECR" bitstream="101100010" bitlength="9" description="Event Counter Reset: clears all memory pointers and data structures without touching configuration memory." />
            <command name="CAL" bitstream="101100100" bitlength="9" description="Calibration Pulse: digital or analog calibration pulse is distributed to the pixel array." />
            <command name="Slow" bitstream="101101000" bitlength="9" description="Slow command header." />
        </fast>
        <slow>
            <command name="RdRegister" bitstream="Slow+0001+ChipID+Address" bitlength="23" description="Read Register: read global memory register." />
            <command name="WrRegister" bitstream="Slow+0010+ChipID+Address+GlobalData" bitlength="39" description="Write Register: write global memory register." />
            <command name="WrFrontEnd" bitstream="Slow+0100+ChipID+000000+PixelData" bitlength="695" description="Write Pixel: write conf data to selected shift register." />
            <command name="GlobalReset" bitstream="Slow+1000+ChipID" bitlength="17" description="Reset Command: puts chip in initial state." />
            <command name="GlobalPulse" bitstream="Slow+1001+ChipID+Width" bitlength="23" description="Global Pulse: e.g. functionality determined by the Control Pulser register." />
            <command name="RunMode" bitstream="Slow+1010+ChipID+111000" bitlength="23" description="Run Mode." />
            <command name="ConfMode" bitstream="Slow+1010+ChipID+000111" bitlength="23" description="Configuration Mode (default for power-up or reset)." />
        </slow>
        <parts>
            <command name="ChipID" bitlength="4" description="Read Register: read global memory register." />
            <command name="Address" bitlength="6" description="Write Register: write global memory register." />
            <command name="GlobalData" bitlength="16" description="Gloabal Register data. Payload of WrRegister." />
            <command name="PixelData" bitlength="672" description="Pixel Register data. Payload of WrFrontEnd." />
            <command name="Width" bitlength="6" description="Width of of Global Pulse." />
        </parts>
    </commands>
    <registers>
        <global>
            <register name="spare_1" address="1" bitlength="16" readonly="1" description="" />
            <register name="spare_2" address="2" bitlength="11" readonly="1" description="" />
            <register name="Conf_AddrEnable" address="2" bitlength="1" offset="11" description="" />
            <register name="Trig_Count" address="2" bitlength="4" offset="12" description="" />
            <register name="ErrorMask" address="3" bitlength="32" description="Bit 20 is configBit which should stay low by default." />
            <register name="Vthin" address="5" bitlength="8" littleendian="1" description="" />
            <register name="PrmpVbp_R" address="5" bitlength="8" littleendian="1" offset="8" description="" />
            <register name="PrmpVbp" address="6" bitlength="8" littleendian="1" description="" />
            <register name="DisVbn_CPPM" address="6" bitlength="8" littleendian="1" offset="8" description="" />
            <register name="DisVbn" address="7" bitlength="8" littleendian="1" description="" />
            <register name="TdacVbp" address="7" bitlength="8" littleendian="1" offset="8" description="" />
            <register name="Amp2VbpFol" address="8" bitlength="8" littleendian="1" description="" />
            <register name="Amp2Vbn" address="8" bitlength="8" littleendian="1" offset="8" description="" />
            <register name="Amp2Vbp" address="9" bitlength="8" littleendian="1" description="" />
            <register name="PrmpVbp_T" address="9" bitlength="8" littleendian="1" offset="8" description="" />
            <register name="Amp2Vbpff" address="10" bitlength="8" littleendian="1" description="FE-I4A manual: Amp2Vbpf" />
            <register name="FdacVbn" address="10" bitlength="8" littleendian="1" offset="8" description="" />
            <register name="PrmpVbp_L" address="11" bitlength="8" littleendian="1" description="" />
            <register name="PrmpVbnFol" address="11" bitlength="8" littleendian="1" offset="8" description="" />
            <register name="PrmpVbnLcc" address="12" bitlength="8" littleendian="1" description="" />
            <register name="PrmpVbpf" address="12" bitlength="8" littleendian="1" offset="8" description="" />
            <register name="spare_13" address="13" bitlength="1" readonly="1" description="" />
            <register name="Pixel_Strobes" address="13" bitlength="13" littleendian="1" offset="1" description="" />
            <register name="S0" address="13" bitlength="1" offset="14" description="" />
            <register name="S1" address="13" bitlength="1" offset="15" description="" />
            <register name="BonnDac" address="14" bitlength="8" littleendian="1" description="littleendian?" />
            <register name="LvdsDrvIref" address="14" bitlength="8" offset="8" littleendian="1" description="littleendian?" />
            <register name="LvdsDrvVos" address="15" bitlength="8" littleendian="1" description="littleendian?" />
            <register name="PllIbias" address="15" bitlength="8" offset="8" littleendian="1" description="" />
            <register name="PllIcp" address="16" bitlength="8" littleendian="1" description="" />
            <register name="TempSensIbias" address="16" bitlength="8" offset="8" littleendian="1" description="littleendian?" />
            <register name="PlsrIdacRamp" address="17" bitlength="8" littleendian="1" description="" />
            <register name="spare_17" address="17" bitlength="8" offset="8" readonly="1" description="" />
            <register name="PlsrVgOpAmp" address="18" bitlength="8" littleendian="1" description="" />
            <register name="spare_18" address="18" bitlength="8" offset="8" readonly="1" description="" />
            <register name="spare_19" address="19" bitlength="8" readonly="1" description="" />
            <register name="PlsrDacBias" address="19" bitlength="8" offset="8" littleendian="1" description="" />
            <register name="Vthin_AltFine" address="20" bitlength="8" littleendian="1" description="" />
            <register name="Vthin_AltCoarse" address="20" bitlength="8" offset="8" littleendian="1" description="" />
            <register name="PlsrDAC" address="21" bitlength="10" littleendian="1" description="" />
            <register name="DIGHITIN_SEL" address="21" bitlength="1" offset="10" description="" />
            <register name="DINJ_OVERRIDE" address="21" bitlength="1" offset="11" description="" />
            <register name="HITLD_IN" address="21" bitlength="1" offset="12" description="" />
            <register name="spare_21" address="21" bitlength="3" offset="13" readonly="1" description="" />
            <register name="spare_22_0" address="22" bitlength="2" readonly="1" description="" />
            <register name="Colpr_Addr" address="22" bitlength="6" offset="2" littleendian="1" description="" />
            <register name="Colpr_Mode" address="22" bitlength="2" offset="8" littleendian="1" description="" />
            <register name="spare_22_1" address="22" bitlength="6" offset="10" readonly="1" description="" />
            <register name="DisableColumnCnfg" address="23" bitlength="40" littleendian="1" description="Disables digital double columns." />
            <register name="Trig_Lat" address="25" bitlength="8" offset="8" description="" />
            <register name="HitDiscCnfg" address="26" bitlength="2" description="" />
            <register name="StopModeCnfg" address="26" bitlength="1" offset="2" description="" />
            <register name="CMDcnt" address="26" bitlength="14" offset="3" description="" />
            <register name="SR_Clock" address="27" bitlength="1" offset="1" description="aka FE_clk_pulse." />
            <register name="Latch_En" address="27" bitlength="1" offset="2" description="" />
            <register name="SR_Clr" address="27" bitlength="1" offset="3" description="" />
            <register name="CalEn" address="27" bitlength="1" offset="4" description="" />
            <register name="GateHitOr" address="27" bitlength="1" offset="5" description="" />
            <register name="spare_27" address="27" bitlength="5" offset="6" readonly="1" description="" />
            <register name="ReadSkipped" address="27" bitlength="1" offset="11" description="" />
            <register name="ReadErrorReq" address="27" bitlength="1" offset="12" description="" />
            <register name="StopClkPulse" address="27" bitlength="1" offset="13" description="" />
            <register name="Efuse_Sense" address="27" bitlength="1" offset="14" description="" />
            <register name="EN_PLL" address="27" bitlength="1" offset="15" description="" />
            <register name="EN_320M" address="28" bitlength="1" description="" />
            <register name="EN_160M" address="28" bitlength="1" offset="1" description="" />
            <register name="CLK0_S2" address="28" bitlength="1" offset="2" description="" />
            <register name="CLK0_S1" address="28" bitlength="1" offset="3" description="" />
            <register name="CLK0_S0" address="28" bitlength="1" offset="4" description="" />
            <register name="CLK1_S2" address="28" bitlength="1" offset="5" description="" />
            <register name="CLK1_S1" address="28" bitlength="1" offset="6" description="" />
            <register name="CLK1_S0" address="28" bitlength="1" offset="7" description="" />
            <register name="EN_80M" address="28" bitlength="1" offset="8" description="" />
            <register name="EN_40M" address="28" bitlength="1" offset="9" description="" />
            <register name="spare_28" address="28" bitlength="5" offset="10" readonly="1" description="" />
            <register name="LvdsDrvSet06" address="28" bitlength="1" offset="15" description="" />
            <register name="LvdsDrvSet12" address="29" bitlength="1" offset="0" description="" />
            <register name="LvdsDrvSet30" address="29" bitlength="1" offset="1" description="" />
            <register name="LvdsDrvEn" address="29" bitlength="1" offset="2" description="" />
            <register name="spare_29_0" address="29" bitlength="1" offset="3" readonly="1" description="" />
            <register name="EmptyRecordCnfg" address="29" bitlength="8" offset="4" description="" />
            <register name="Clk2OutCnfg" address="29" bitlength="1" offset="12" description="" />
            <register name="No8b10b" address="29" bitlength="1" offset="13" description="" />
            <register name="spare_29_1" address="29" bitlength="2" offset="14" readonly="1" description="" />
            <register name="spare_30" address="30" bitlength="16" readonly="1" description="" />
            <register name="spare_31" address="31" bitlength="4" readonly="1" description="" />
            <register name="ExtAnaCalSW" address="31" bitlength="1" offset="4" description="" />
            <register name="ExtDigCalSW" address="31" bitlength="1" offset="5" description="" />
            <register name="PlsrDelay" address="31" bitlength="6" offset="6" littleendian="1" description="" />
            <register name="PlsrPwr" address="31" bitlength="1" offset="12" description="" />
            <register name="PlsrRiseUpTau" address="31" bitlength="3" offset="13" description="bigendian?" />
            <register name="SELB" address="32" bitlength="40" register_littleendian="1" description="" />
            <register name="spare_34" address="34" bitlength="4" offset="8" readonly="1" register_littleendian="1" description="" />
            <register name="Cref" address="34" bitlength="4" offset="12" littleendian="1" register_littleendian="1" description="" />
            <register name="Chip_SN" address="35" bitlength="16" description="" />
            <register name="0_64" address="36" bitlength="64" readonly="1" description="" />
            <register name="0010101010101010" address="40" bitlength="16" readonly="1" value="10922" description="" />
            <register name="10101010" address="41" bitlength="8" readonly="1" value="170" description="" />
            <register name="EOCHLSkipped" address="41" bitlength="8" offset="8" readonly="1" description="" />
            <register name="CMDErrReg" address="42" bitlength="16" readonly="1" description="" />
            <register name="0_336" address="43" bitlength="336" readonly="1" description="" />
        </global>
        <pixel>
            <pixel_register name="Enable" bitlength="1" pxstrobe="0" description="Enabling/disabling readout." />
            <pixel_register name="TDAC" bitlength="5" pxstrobe="1" littleendian="1" description="The higher the value, the lower the threshold. One step equivalent to 4 steps in Vthin_AltFine." />
            <pixel_register name="C_High" bitlength="1" pxstrobe="6" description="Big injection capacitor (nominally 3.8fF/ measured 4.1fF)." />
            <pixel_register name="C_Low" bitlength="1" pxstrobe="7" description="Big injection capacitor (nominally 1.9fF/ measured 2fF)." />
            <pixel_register name="Imon" bitlength="1" pxstrobe="8" description="Disabling Imon enables hit-OR." />
            <pixel_register name="FDAC" bitlength="4" pxstrobe="9" description="The higher the value, the higher the feedback current." />
            <pixel_register name="EnableDigInj" bitlength="1" pxstrobe="SR" description="SR is non-existing pixel register." />
        </pixel>
    </registers>
</fei4>